<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    
    <title>FIFA World Cup Match Prediction | Eric Matthew Rupinski </title>
    <meta name="viewport" content="width=device-width,minimum-scale=1">
    <meta name="description" content="Using Fifa Player Ratings &amp; World Cup Performance Data to Predict Match Outcomes">
    <meta name="generator" content="Hugo 0.115.4">
    
    
    
    
      <meta name="robots" content="noindex, nofollow">
    

    
<link rel="stylesheet" href="https://emr89.github.io/ananke/css/main.min.css" >



    
    
    
      

    

    
    
    <meta property="og:title" content="FIFA World Cup Match Prediction" />
<meta property="og:description" content="Using Fifa Player Ratings &amp; World Cup Performance Data to Predict Match Outcomes" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://emr89.github.io/post/fifa-world-cup-match-prediction/" /><meta property="article:section" content="post" />
<meta property="article:published_time" content="2022-02-09T10:58:08-04:00" />
<meta property="article:modified_time" content="2022-02-09T10:58:08-04:00" />
<meta itemprop="name" content="FIFA World Cup Match Prediction">
<meta itemprop="description" content="Using Fifa Player Ratings &amp; World Cup Performance Data to Predict Match Outcomes"><meta itemprop="datePublished" content="2022-02-09T10:58:08-04:00" />
<meta itemprop="dateModified" content="2022-02-09T10:58:08-04:00" />
<meta itemprop="wordCount" content="2209">
<meta itemprop="keywords" content="Scene," /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="FIFA World Cup Match Prediction"/>
<meta name="twitter:description" content="Using Fifa Player Ratings &amp; World Cup Performance Data to Predict Match Outcomes"/>

	
  </head>

  <body class="ma0 avenir bg-near-white">

    
   
  

  
  <header class="cover bg-top" style="background-image: url('https://emr89.github.io/images/pele.jpeg');">
    <div class="bg-black-60">
      <nav class="pv3 ph3 ph4-ns" role="navigation">
  <div class="flex-l justify-between items-center center">
    <a href="https://emr89.github.io/" class="f3 fw2 hover-white no-underline white-90 dib">
      
        Eric Matthew Rupinski 
      
    </a>
    <div class="flex-l items-center">
      

      
        <ul class="pl0 mr3">
          
          <li class="list f5 f4-ns fw4 dib pr3">
            <a class="hover-white no-underline white-90" href="https://emr89.github.io/about/" title="About page">
              About
            </a>
          </li>
          
          <li class="list f5 f4-ns fw4 dib pr3">
            <a class="hover-white no-underline white-90" href="https://emr89.github.io/contact/" title="Contact page">
              Contact
            </a>
          </li>
          
          <li class="list f5 f4-ns fw4 dib pr3">
            <a class="hover-white no-underline white-90" href="https://emr89.github.io/post/" title="Projects page">
              Projects
            </a>
          </li>
          
        </ul>
      
      
<div class="ananke-socials">
  
</div>

    </div>
  </div>
</nav>

      <div class="tc-l pv6 ph3 ph4-ns">
        
          <div class="f2 f1-l fw2 white-90 mb0 lh-title">FIFA World Cup Match Prediction</div>
          
            <div class="fw1 f5 f3-l white-80 measure-wide-l center lh-copy mt3 mb4">
              Using Fifa Player Ratings &amp; World Cup Performance Data to Predict Match Outcomes
            </div>
          
        
      </div>
    </div>
  </header>



    <main class="pb7" role="main">
      
  
  <article class="flex-l flex-wrap justify-between mw8 center ph3">
    <header class="mt4 w-100">
      <aside class="instapaper_ignoref b helvetica tracked">
          
        PROJECTS
      </aside>
      










  <div id="sharing" class="mt3 ananke-socials">
    
  </div>


      <h1 class="f1 athelas mt3 mb1">FIFA World Cup Match Prediction</h1>
      
      
      
      <time class="f6 mv4 dib tracked" datetime="2022-02-09T10:58:08-04:00">February 9, 2022</time>
      

      
      
    </header>
    <div class="nested-copy-line-height lh-copy serif f4 nested-links mid-gray pr4-l w-two-thirds-l"><h4 id="note-current-progress-is-at-the-stage-of-utilizing-the-best-models-to-apply-to-an-in-game-situation-for-strategy">Note: Current Progress is at the stage of utilizing the best models to apply to an in-game situation for strategy.</h4>
<h4 id="github-link-httpsgithubcomemr89fifa-match-performance-analysis">Github Link: <a href="https://github.com/Emr89/FIFA-Match-Performance-Analysis">https://github.com/Emr89/FIFA-Match-Performance-Analysis</a></h4>
<h2 id="introduction">Introduction:</h2>
<p>The primary objective of this project was to utilize player and team performance attributes, using FIFA player and team attribute ratings, to find its impact on match event outcomes. Specifically, player and team performance attributes are refrencing the FIFA Ratings, that are provided in their games, to break down the strengths and weaknesess of each player and team in a numerical rating system out of 100. Usually these performance traits include speed, tackling ability, stamina, shot power, strength, and other physical attributes that are required to perform all the actions on the pitch. The match event outcomes are the occurrences that are not known before the match and impact the outcome of the game, including if the team won the match or not, how many goals were scored by each team, how many shots on goal each team and each player had, as well as shots on goal, and how many goal creating actions each player and team had, among other factors.</p>
<p>The approach to this project is a combination of different perspectives that you would find in an organization. Obviously, there is the goal to model the match outcomes to be able to predict future outcomes, as of the perspective of the sport statistican. There is also the perspective of the strategic coach, who is curious as to what factors impact performance the most and how those factors can be manipulated to guarentee better results in the future. Altogether, this project&rsquo;s goal is to familiarize myself with the relationship between the performance factors and outcome events of the game to better learn to strategize for future team performance.</p>
<p>The data used in this project is a collection of data from the 2017-2018 time period, where the match outcome data is the outcomes of the 2018 World Cup, and the player and team performance attributes are from the 2017 FIFA games. The 2017 FIFA game was chosen to represent the player and team attribute ratings for the players right before the 2018 World Cup, to best represent the performance level around the time, as the 2018 FIFA ratings most likely include the performance of the 2018 World Cup.</p>
<p>The project takes a focus on exhaustivley trying to find the best method to model the match outcomes, with just enough fous on Exploratory Data Analysis to understand the data at a basic level and help create subsets of the data that would be best when modeling. Note, there will be comments on the self-reflection section of aspects of the project I should have done better, and a deeper EDA was one of the main points.</p>
<p>The approach of this project will be as if its from the perspective of a strategist for the Brazilian National Team for the 2022 World Cup, as the model findings and relationships would be utilized and applied to new data to test its validity.</p>
<h2 id="methodology">Methodology:</h2>
<h4 id="the-process-of-the-project-is-the-following">The process of the project is the following:</h4>
<ol>
<li>Creation of the Data Sets: Different data sets were created to predict player performance in a match and team performance in a match. Additionally, there were two different data sets created for the Team perspective, as one is comprised the long structure, where each row is a team&rsquo;s performance in one match, and the other team&rsquo;s performance against the original team is in a different row. The second team data set is comprised in the wide manner, where each observation is each match, with both team&rsquo;s performance paired against each other in column format.</li>
<li>Basic EDA of Data: Though not an intensive dive into exploratory analysis, the research is to understand the structure of the data sets more and basic relationships among variables, specifically to help create appropriate subsets of the data to model.</li>
<li>Creation of the Data Subsets: Many different approaches were used, such as &ldquo;RegSubsets&rdquo; and also inference using knowledge of the sport to create different subsets to test to try and find the subsets of the variables that are most important.</li>
<li>Exhaustive Modeling Creation: Many forms of modeling were applied to each one of the subsets of data for each variable of interest, such modeling techniques include Deep Neural Networks using Tensorflow, Deep Neural Networks using the &ldquo;Caret&rdquo; package, Random Forest Regression, Extreme Gradient Boosting (XGBoost), XGBDart, XGBTree, Elastic Net Regression, Ridge Regression, General Linear Model Net Regression (GLMnet), as well as Random Forest Regression Packages that automatically search for the best subset and tuning parameters. The model creation process is meant to be exhaustive to find the best overall models.</li>
<li>Best Model Comparison: Once all models are created and evaulated, the best handful of models for each subset were chosen and then compared against each other to find the best couple models for each variable in each subset.</li>
<li>Model Application (Current Working Step in Project): Using the best models to predict future match outcomes and utilization of models to help with match strategy.</li>
<li>Conclusions, Reflections, &amp; Next Steps: Conclusions will be given for the best models overall, in comparison to each other, and general ability to predict future match outcomes. Then there will a reflection of what where the strengths and weaknesses of the project overall, followed by the next steps if I were to continue the research or do the project over again.</li>
</ol>
<h3 id="variables-used-in-data">Variables Used in Data:</h3>
<p>The following is a list of the all the variables at the start of the data creation that were used to create the variables for the player data set &amp; the team data set. The team data set had the certain variables added together or averaged for their values, depending on what made the most sense situationally.
<figure><img src="https://emr89.github.io/images/VAREX1.png"/>
</figure>

<figure><img src="https://emr89.github.io/images/VAREX2.png"/>
</figure>

<figure><img src="https://emr89.github.io/images/VAREX3.png"/>
</figure>
</p>
<h2 id="conclusion-section">Conclusion Section:</h2>
<h3 id="final-subsets-for-data">Final Subsets for Data:</h3>
<p>Many different subsets were used for each data set and each variable in each data set. At the very least, the variables that were obviously other match outcomes variables and highly correlated to the main variable of interest were taken out of the subset. Additionally, regsubsets did narrow down the data even further in other test cases. (will be completed later when updated files are completed).</p>
<h3 id="best-model-selection--conclusions">Best Model Selection &amp; Conclusions:</h3>
<p>The following image are the results for the best models after comparing all the models:</p>
<h3 id="machine-learning-models-created-with-the-caret-package-everything-except-deep-neural-networks">Machine Learning Models Created with the &ldquo;Caret&rdquo; Package&quot; (Everything except Deep Neural Networks)</h3>
<figure><img src="https://emr89.github.io/images/EASYMODRES.png"/>
</figure>

<h3 id="deep-neural-network-models">Deep Neural Network Models:</h3>
<figure><img src="https://emr89.github.io/images/NNMODRES.png"/>
</figure>

<h4 id="note-for-the-deep-neural-networks-classification-models-were-meaasured-by-acc-or-accuracy-and-regression-models-were-measured-by-mae-referred-to-in-the-statistical-val-diff-and-perc-diff-columns">Note: For the Deep Neural Networks, Classification Models were meaasured by &ldquo;ACC&rdquo; or accuracy, and Regression Models were measured by &ldquo;MAE&rdquo; referred to in the &ldquo;Statistical Val&rdquo;, &ldquo;DIFF&rdquo;, and &ldquo;PERC DIFF&rdquo; columns.</h4>
<h4 id="note-2-if-one-of-the-deep-neural-networks-had-a-model-that-came-close-to-the-stregnth-of-the-other-machine-learning-models-then-it-was-included-as-well-for-later-if-there-were-no-deep-neural-networks-that-came-close-to-the-machine-learning-models-they-were-not-included-and-there-is-only-1-model-to-predict-the-variable-located-in-the-machine-learning-model-section">Note 2: If one of the deep neural networks had a model that came close to the stregnth of the other machine learning models, then it was included as well for later. If there were no Deep Neural Networks that came close to the machine learning models, they were not included and there is only 1 model to predict the variable, located in the Machine Learning Model section.</h4>
<p>Overall its evident that no single modeling method dominated as the best modeling method for every variable there. There was a strong mix of Extreme Gradient Boost (XGBoost), Neural Networks using the caret package, elastic net regressions, XGBDart, and Random Forests, as the top models for each variable. When it comes to the Deep Neural Networks with Tensorflow, its clear that only a certain kind of variable was more strongly predicted when compared to the other types of modeling methods; and its Possion, Binary, &amp; Beta Distributions. Specifically, variables where the range is from (0,1) or (0,some small single/double digit number), so variables like the binary win variable, or variables with rare occurences like shots on goal, shots, goals, for player &amp; team performance, though more powerful with player performance where there occurrences of the event were even more rare.</p>
<p>The models that seemed to have a high R^2 value and are understood well are variables such as , the amount of time a player was and was not in possession of the ball, as well as at the team level, time spent in each of the main zone levels (denoted by different variables), Home &amp; Away score when predicted with only player performance, the number of goals scored and shots taken at the player level, as these R^2 values are at 0.7 or higher. The moderately predicted variables, at 0.4 to 0.7, are Win Probability, Home and Away score at the team level (which is probably the most accurate). Finally predicting completed pass percentage rate was difficult to predict and not well predicted well by most models.</p>
<h3 id="reflection-section">Reflection Section:</h3>
<p>There are many valuable lessons I learned from mistakes that were made throughout the process of this project. The most impactful mistake was the lack of an in-depth Exploratory Data Analysis (EDA). This project was started before I had understood the importance of how useful a thoughrough EDA is in being able to guide the next steps of the project to the modeling phase. The EDA would have helped me figure out some key choices in the beggining of the project, rather than the approach I used, which was the exhaustive method of trying to follow out analysis on every different structure of data that I possibly could, which took up way too much time. The next major issue was the lack of organizational logs to keep track of the purpose of each file, each action done in each file, and the naming in each file, and how it all came together in the bigger picture. Not only was the structure and order of the work harder to follow after a few months away from the work, but the lack of organization and insight led to major issues with Scope Creep when it came to conducting analysis on the project and lengthed the process of the project substancially.</p>
<p>Since the start of this project, I had improved upon my understanding and utilization of providing structure and organization for the project plan, project goals and project activity logs, to prevent scope creep and have a better sense of purpose when conducting each step of the project. Additionally, EDA is now the most important focus on any project going forward and no conclusion for modeling will be made without conducting the EDA first.</p>
<p>Its important to note that I started this project before I had ever learned of the importance of order and structure when it came to analysis projects, as it was not preached to me in University, so I can appreciate my drive to understand the data better and my creative techniques of trying to improve the model&rsquo;s capabilities. The biggest takeaway is the importance of setting up the plan of the process ahead of time and sticking to the project proposal, adn even though there will be unexpected avenues of research to do on the data and actions needed to complete the analysis, the main sight of the project will not be lost.</p>
<p>Another issue was learning to understand that activation levels with the deep neural networks and the most appropriate situation to use them. An &ldquo;exhuastive&rdquo; method of trying an iterative combination of different numbers of layers, and layer procesess were used, and even though some of the models came back with a relatively small level of MAE, they didn&rsquo;t generalize very well and with new data created some extreme predictions, with means the overfitting to the testing data was substancial.</p>
<h3 id="next-steps">Next Steps:</h3>
<p>There are 2 different approaches that can be taken, and they will be determined after further research.</p>
<p>The first approach would be to go back to the model creation stage, and after all the knowledge I gained thus far, would recreate only a fraction of the models, but put more emphasis on feature engineering, exhaustive model selection, and parameter tuning, to possibly create even better models. This approach would also give me a direction to re-examine how well my models are at accomplishing the goal of predicting the appropriate in-game scenarios that I was aiming for.</p>
<p>The second approach would be to take the lessons I learned from my work, and apply it to new Soccer Match Data, so I can plan out the project from start to finish in an organized manner, as to not let scope creep impact the direction of the project. Though the number of models created would be similar to the total amount additionally created in the first approach, the data creation, cleaning, and manipulation, and Exploratory Data Analysis, would all need to be conducted once again, which has its own strengths and drawbacks. If the second approach is taken, it would equate in a much stronger understanding of much more complete data, and could equate in much stronger models, but it would also take a significant amount of time (~ 300-500 hours), if done properly.</p>
<p>A decision on which approach to take will be completed after my next project is completed and I have a better understanding of my free-time and my specific subset field of data analytics.</p>
<h3 id="note-more-information-will-be-provided-on-the-resulting-data-and-models-shortly-along-with-a-more-organized-way-to-understand-each-files-purpose-and-the-utility-of-each-step-conducted">Note: More information will be provided on the resulting data and models shortly, along with a more organized way to understand each file&rsquo;s purpose and the utility of each step conducted.</h3>
<ul class="pa0">
  
   <li class="list di">
     <a href="https://emr89.github.io/tags/scene/" class="link f5 grow no-underline br-pill ba ph3 pv2 mb2 dib black sans-serif">Scene</a>
   </li>
  
</ul>
<div class="mt6 instapaper_ignoref">
      
      
      </div>
    </div>

    <aside class="w-30-l mt6-l">




  <div class="bg-light-gray pa3 nested-list-reset nested-copy-line-height nested-links">
    <p class="f5 b mb3">Related</p>
    <ul class="pa0 list">
	   
	     <li  class="mb2">
          <a href="https://emr89.github.io/post/nfl-big-data-bowl-2021-2022/">NFL Big Data Bowl 2021-2022</a>
        </li>
	    
	     <li  class="mb2">
          <a href="https://emr89.github.io/post/nfl-multivariate-analysis/">NFL Multivariate Analysis</a>
        </li>
	    
	     <li  class="mb2">
          <a href="https://emr89.github.io/post/2020-supplemental-football-match-up-analysis/">2020 Supplemental Football Match Up Analysis</a>
        </li>
	    
	     <li  class="mb2">
          <a href="https://emr89.github.io/post/super-bowl-53-analysis/">Super Bowl 53 Analysis</a>
        </li>
	    
	     <li  class="mb2">
          <a href="https://emr89.github.io/post/nfl-performance/">NFL Performance Research &amp; Prediction</a>
        </li>
	    
    </ul>
</div>

</aside>

  </article>

    </main>
    <footer class="bg-black bottom-0 w-100 pa3" role="contentinfo">
  <div class="flex justify-between">
  <a class="f4 fw4 hover-white no-underline white-70 dn dib-ns pv2 ph3" href="https://emr89.github.io/" >
    &copy;  Eric Matthew Rupinski  2024 
  </a>
    <div>
<div class="ananke-socials">
  
</div>
</div>
  </div>
</footer>

  </body>
</html>
